# アプリ名
## Picbook

# 概要
・ユーザー自身が読んだ絵本を画像、あらすじ、感想を入力して、投稿できるアプリケーション

# 本番環境(デプロイ先　テストアカウント＆ID)

・https://picbook.site

## ログイン情報（テスト用）
・ユーザー名：test

・Eメール：test@test


# 制作背景(意図)						
⇒どんな課題や不便なことを解決するためにこのアプリを作ったのか。

・ペルソナとして考えたのは、お子さんを持つお母さんです。昨今世間を賑わせている映画『えんとつ町のプペル』の原作を書いた西野さんにインスピレーションを受け、忙しくて時間のないお母さん方たちがいかにして有意義な時間を過ごすことができるのかを考えました。
子を持つお母さんたちと定義しても、その背景は人それぞれで、主婦でありながら仕事もしている人、専業主婦の人、特に前者の方達はお子さんとのコミュニケーションの機会はさほど多くないことから、その少ない時間がとても重要だと感じられます。中でも、おやすみの際にお子さんに絵本を読み聞かせる方はたくさんいらっしゃると考えました。ではその読み聞かせてあげる絵本はどのようにして選ぶでしょうか。基本的には子供たちが楽しんでくれるような絵本がいいですよね。でもせいぜい書店でわかる情報はあらすじぐらいだと思います。結果、買ってみないとどのような話なのかわからないと思います。しかし、このアプリケーションは実際に絵本の投稿者の方達がそれぞれこういったストーリーでこんなふうに感じたと投稿することでそれを見たユーザーは多くの意見を取り入れ、実際にストーリーの全体像を掴むことができます。ストーリーが最初からわかっていたら面白味がないと感じた方もいらっしゃるかもしれませんが、あくまでお母さんたちはお子さんに楽しんでもらうことが目的なので、お母さんたちが求めるものはその絵本が果たして面白いものかということだと考えました。以上のことからお母さんたちは絵本選びにあまり時間をかけずに面白い絵本に出会えるということがこのアプリケーションの最大の利点です。

# DEMO(gifで動画や写真を貼って、ビューのイメージを掴んでもらいます)						
⇒特に、デプロイがまだできていない場合はDEMOをつけることで見た目を企業側に伝えることができます。

## ・投稿一覧ページ
・投稿に対し、いいねでリアクション可能。

・投稿者は自身の投稿に対しては、編集、削除が可能。

・ページネーション機能により、投稿が一定数を超えると次ページに遷移できる。

## ・ユーザーマイページ
https://gyazo.com/edf9630b4af6517fd09669de473b1706

・投稿一覧ページの機能と同じ

## ・投稿詳細ページ
https://gyazo.com/d54a0dd1cbc1469b34f76ae9d12ac20e

・投稿一覧ページの機能と同じ

・投稿に対し、コメントすることができる。

## ・ユーザー新規登録ページ
https://gyazo.com/29d50fb5bae5bd299f3aad4a98a2954b

・ニックネーム、Eメール、パスワードを入力することで登録できる。

・facebook、googleのアカウントで簡単に登録可能。

## ・ユーザーログインページ
https://gyazo.com/a412a8e4a7f8fce8dda0f9dc59a86732

・Eメール、パスワードを入力することでログイン可能。

・facebook、googleで登録していると簡単にログイン可能。

## ・新規投稿ページ
https://gyazo.com/6b2112347b1bae06e153088de88fc134

・画像を選択し、あらすじ、感想を入力することで投稿が可能。

・プレビュー機能により、選択した画像を小さく表示。

# 工夫したポイント
・サイトの信用度を高めるためにドメインを取得して、SSL化したこと。

・dockerを開発環境で導入したこと。

・インフラをAWSで構築したこと。

・投稿数が増えるたびに、トップページの画面が広がり続け、見えにくくなるのを防ぐために、ページネーション機能を使い、投稿が一定数以上増えると、次ページに遷移できるようにしたこと。

・楽天APIを導入して、アプリケーションサイトから直接、楽天の商品を検索できるようにして、画像をクリックすることで楽天サイトの購入ページに遷移できるようにしたこと。

・いいね機能を追加し、投稿に対して、ユーザーが反応できるようにしたこと。

・Facebook・GoogleAPIを導入して、SNS認証できるようにし、新規登録やログインの簡略化したこと。

・awsで自動化デプロイできるようにしたこと。

・s3を使うことで画像のリンクが切れないようにしたこと。

# 使用技術(開発環境)

# 課題や今後実装したい機能
・課題としては、現状、楽天の商品検索機能があるので、投稿を見て、気に入った絵本があればサイトから直接楽天のサイトに遷移し、購入することは可能ですが、投稿者にメリットがないので、投稿者が圧倒的に少なく、このアプリケーションの発展具合は目に見えています。なので、投稿者の投稿を見て絵本を購入してもらうと、購入金額の何％かが投稿者に還元されるようにしたいと考えています。その結果、投稿者も増えることに加え、投稿の質も徐々に上がっていくと言い切れます。

# DB設計



# テーブル設計

## users テーブル

| Column         | Type   | Options     |
| -------------- | ------ | ----------- |
| email          | string | null: false |
| password       | string | null: false |
| nickname       | string | null: false |

### Association

- has_many :books
- has_many :comments
- has_many :likes, dependent: :destroy
- has_many :like_books, through: :likes, source: :book


## books テーブル

| Column     | Type       | Options                        |
| ------     | ------     | -----------                    |
| title      | string     | null: false                    |
| story      | text       | null: false                    |
| impression | text       | null: false                    |
| user       | references | null: false, foreign_key: true |

### Association

- has_many :comments
- belongs_to :user
- has_many :likes, dependent: :destroy
- has_many :liking_users, through: :likes, source: :user



## comments テーブル

| Column     | Type       | Options                        |
| ------     | ---------- | ------------------------------ |
| text       | text       | null: false                    |
| user       | references | null: false, foreign_key: true |
| book       | references | null: false, foreign_key: true |


### Association

- belongs_to :users
- belongs_to :books

## likes テーブル

| Column     | Type       | Options                        |
| ------     | ---------- | ------------------------------ |
| user       | references | null: false, foreign_key: true |
| book       | references | null: false, foreign_key: true |


### Association

- belongs_to :users
- belongs_to :books

